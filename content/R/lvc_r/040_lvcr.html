<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.113">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt Hunt Gardner">
<meta name="dcterms.date" content="2022-09-27">
<meta name="description" content="Modifying data, including removing rows, re-coding variables, centering continuous variables, dividing continuous variables, changing the order of variables, reversing the order of variables, combining columns, splitting columns, and partitioning data sets.">

<title>LingMethodsHub - Modifying Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: 1;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../content/R/lvc_r/050_lvcr.html" rel="next">
<link href="../../../content/R/lvc_r/030_lvcr.html" rel="prev">
<script src="../../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-ES98D09K0F"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-ES98D09K0F', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script> 
  
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean",
  "openSidebar": false,
  "showHighlights": "never"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">LingMethodsHub</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../content/index.html" aria-current="page">Tutorials</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html">About</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../content/contributing/index.html">Contributing</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../people/index.html">People</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/LingMethodsHub/LingMethodsHub.github.io"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Modifying Data</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../../../" class="sidebar-logo-link">
      <img src="../../../assets/logo.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/index.html" class="sidebar-item-text sidebar-link">Tutorials</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/R/index.html" class="sidebar-item-text sidebar-link">R</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/R/lvc_r/index.html" class="sidebar-item-text sidebar-link">Doing LVC with R</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/010_lvcr.html" class="sidebar-item-text sidebar-link">Getting Started</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/020_lvcr.html" class="sidebar-item-text sidebar-link">Getting Your Data Into <em>R</em></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/030_lvcr.html" class="sidebar-item-text sidebar-link">Getting to Know Your Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/040_lvcr.html" class="sidebar-item-text sidebar-link active">Modifying Data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/050_lvcr.html" class="sidebar-item-text sidebar-link">Doing it all again, but <code>tidy</code></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/060_lvcr.html" class="sidebar-item-text sidebar-link">Crosstabs: Counts, Proportions, and More</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/070_lvcr.html" class="sidebar-item-text sidebar-link">Proportions for <code>ggplot2</code></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/R/lvc_r/080_lvcr.html" class="sidebar-item-text sidebar-link">Conditional Inference Trees</a>
  </div>
</li>
      </ul>
  </li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">Python</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">Praat</span>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/cli/index.html" class="sidebar-item-text sidebar-link">Command Line Interfaces</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/cli/keyboarding/index.html" class="sidebar-item-text sidebar-link">Keyboarding</a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/windows/index.html" class="sidebar-item-text sidebar-link">Windows</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../content/windows/wsl/index.html" class="sidebar-item-text sidebar-link">Windows Subsystem for Linux</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../content/windows/wsl/00_installing_wsl.html" class="sidebar-item-text sidebar-link">Installation</a>
  </div>
</li>
      </ul>
  </li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#removing-rows" id="toc-removing-rows" class="nav-link active" data-scroll-target="#removing-rows">Removing Rows</a></li>
  <li><a href="#re-coding-variables" id="toc-re-coding-variables" class="nav-link" data-scroll-target="#re-coding-variables">Re-coding Variables</a></li>
  <li><a href="#centering-continuous-variables" id="toc-centering-continuous-variables" class="nav-link" data-scroll-target="#centering-continuous-variables">Centering Continuous Variables</a></li>
  <li><a href="#dividing-a-continuous-variable" id="toc-dividing-a-continuous-variable" class="nav-link" data-scroll-target="#dividing-a-continuous-variable">Dividing a Continuous Variable</a></li>
  <li><a href="#changing-the-order-of-levels" id="toc-changing-the-order-of-levels" class="nav-link" data-scroll-target="#changing-the-order-of-levels">Changing the Order of Levels</a></li>
  <li><a href="#reversing-the-order-of-levels" id="toc-reversing-the-order-of-levels" class="nav-link" data-scroll-target="#reversing-the-order-of-levels">Reversing the Order of Levels</a></li>
  <li><a href="#combining-columns" id="toc-combining-columns" class="nav-link" data-scroll-target="#combining-columns">Combining Columns</a></li>
  <li><a href="#splitting-columns" id="toc-splitting-columns" class="nav-link" data-scroll-target="#splitting-columns">Splitting Columns</a></li>
  <li><a href="#partitioning-data-frames" id="toc-partitioning-data-frames" class="nav-link" data-scroll-target="#partitioning-data-frames">Partitioning Data Frames</a></li>
  <li><a href="#interim-summary" id="toc-interim-summary" class="nav-link" data-scroll-target="#interim-summary">Interim Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Modifying Data</h1>
</div>

<div>
  <div class="description">
    Modifying data, including removing rows, re-coding variables, centering continuous variables, dividing continuous variables, changing the order of variables, reversing the order of variables, combining columns, splitting columns, and partitioning data sets.
  </div>
</div>

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    Matt Hunt Gardner <a href="https://orcid.org/0000-0002-1878-4232" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            University of Oxford
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 27, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">

</div>
<p>If you followed the previous section you now have an object in <em>R</em> called <code>td</code> in which all character columns are converted to factors. If not, you can load it now with either of the following codes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"https://www.dropbox.com/s/jxlfuogea3lx2pu/deletiondata.txt?dl=1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"Data/deletiondata.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Re-class character columns as factors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Dep.Var <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Dep.Var)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Stress <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Stress)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Category <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Category)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Morph.Type <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Morph.Type)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Before <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Before)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>After)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Speaker <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Speaker)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Sex)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Education <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Education)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Job <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Job)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Phoneme.Dep.Var <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Phoneme.Dep.Var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Deleting tokens, re-coding tokens, combining factor groups, etc. is, in my opinion, easier to do in <em>Excel</em>. But, if you want to do this in <em>R</em>, or you only want to perform the modification for a specific analysis or graph, you may find the following functions useful.</p>
<section id="removing-rows" class="level2">
<h2 class="anchored" data-anchor-id="removing-rows">Removing Rows</h2>
<p>The (t, d) deletion data includes tokens in which the previous phoneme is a vowel. Many analyses of (t, d) deletion exclude this context. Here is how to remove these contexts from your data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> td[td<span class="sc">$</span>Before <span class="sc">!=</span> <span class="st">"Vowel"</span>, ]</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(td)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Dep.Var           Stress         Category        Morph.Type 
 Deletion:386   Stressed  :1047   Function:  57   Mono     :762  
 Realized:803   Unstressed: 142   Lexical :1132   Past     :311  
                                                  Semi-Weak:116  
                                                                 
                                                                 
                                                                 
                                                                 
             Before          After        Speaker         YOB       Sex    
 Liquid         :269   Consonant:215   INGM84 : 57   Min.   :1915   F:659  
 Nasal          :209   H        :157   MARM92 : 53   1st Qu.:1952   M:530  
 Other Fricative:130   Pause    :558   GARF87 : 52   Median :1984          
 S              :332   Vowel    :259   HUNF22 : 32   Mean   :1969          
 Stop           :249                   DONF15 : 28   3rd Qu.:1991          
 Vowel          :  0                   GARF37 : 28   Max.   :1999          
                                       (Other):939                         
        Education        Job          Phoneme.Dep.Var
 Educated    :496   Blue   :130   t--T        :352   
 Not Educated:317   Service:468   t--Deletion :296   
 Student     :376   Student:376   t--Fricative:131   
                    White  :215   d--Deletion : 90   
                                  d--T        : 73   
                                  d--D        : 46   
                                  (Other)     :201   </code></pre>
</div>
</div>
<p>The first line of code creates a new object called <code>td</code>. The <code>&lt;-</code> operator means you’re telling <em>R</em> that this new <code>td</code> is the same as the old <code>td</code>, but filtered according to some specific condition. You could also use the <code>&lt;-</code> operator to create a new <code>td</code> with a different name — e.g., <code>td.new &lt;- td[td\$Before != "Vowel",]}</code> — thus giving you two data frames (<code>td</code> and <code>td.new</code>) to work with.</p>
<p>Throughout <em>R</em>, square brackets <code>[ ]</code> are used for specifying filtering conditions. The first line of code therefore says make new <code>td</code> the same as old <code>td</code>, but only where the value in the <code>Before</code> column of old <code>td</code> (indicated by <code>td$Before</code>) does not equal <code>"Vowel"</code>. <code>!=</code> is the standard operator meaning <em>does not equal</em>. The comma after <code>"Vowel"</code> is important. If you are filtering a data frame, as you are here, <em>R</em> needs to know where to look for the values you want to keep or throw out. It follows this format: <code>data frame[rows,columns]</code>. So the comma in the above indicates that the filtering condition relates to values found while searching row by row. It selects any row in which the value in the <code>Before</code> column does not equal <code>"Vowel"</code>. The quotation marks around <code>"Vowel"</code> are also important because the values in the <code>Before</code> column are all strings of characters, which (you’ll remember from above), are always enclosed in quotation marks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Before <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Before)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>An additional line of code is needed for resetting the data structure. The new <code>td</code> inherits the data structure from the old <code>td</code>. This means <em>R</em> thinks the new <code>td</code> still has a level in the column <code>Before</code> called <code>"Vowel"</code> — even though there are zero tokens now in the column with this value. If you run <code>summary(td)</code> after the first code above you’ll see that <em>R</em> still lists <code>"Vowel"</code> as a possible level of <code>Before</code>, but with zero instances. The additional line of code tells <em>R</em> to make a new column <code>Before</code> in the data frame <code>td</code> (this will replace the old <code>Before</code> column) in which the possible factors (i.e., values) in that column are those that actually exist in the new <code>Before</code> column in <code>td</code>. Run <code>summary()</code> or <code>str()</code> now and you’ll see that the empty <code>"Vowel"</code> level is gone.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(td)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Dep.Var           Stress         Category        Morph.Type 
 Deletion:386   Stressed  :1047   Function:  57   Mono     :762  
 Realized:803   Unstressed: 142   Lexical :1132   Past     :311  
                                                  Semi-Weak:116  
                                                                 
                                                                 
                                                                 
                                                                 
             Before          After        Speaker         YOB       Sex    
 Liquid         :269   Consonant:215   INGM84 : 57   Min.   :1915   F:659  
 Nasal          :209   H        :157   MARM92 : 53   1st Qu.:1952   M:530  
 Other Fricative:130   Pause    :558   GARF87 : 52   Median :1984          
 S              :332   Vowel    :259   HUNF22 : 32   Mean   :1969          
 Stop           :249                   DONF15 : 28   3rd Qu.:1991          
                                       GARF37 : 28   Max.   :1999          
                                       (Other):939                         
        Education        Job          Phoneme.Dep.Var
 Educated    :496   Blue   :130   t--T        :352   
 Not Educated:317   Service:468   t--Deletion :296   
 Student     :376   Student:376   t--Fricative:131   
                    White  :215   d--Deletion : 90   
                                  d--T        : 73   
                                  d--D        : 46   
                                  (Other)     :201   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(td)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   1189 obs. of  12 variables:
 $ Dep.Var        : Factor w/ 2 levels "Deletion","Realized": 2 1 1 1 2 1 1 1 1 1 ...
 $ Stress         : Factor w/ 2 levels "Stressed","Unstressed": 1 1 1 1 1 1 1 1 1 1 ...
 $ Category       : Factor w/ 2 levels "Function","Lexical": 2 2 2 2 2 2 2 2 2 2 ...
 $ Morph.Type     : Factor w/ 3 levels "Mono","Past",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Before         : Factor w/ 5 levels "Liquid","Nasal",..: 5 5 5 5 5 5 5 5 5 5 ...
 $ After          : Factor w/ 4 levels "Consonant","H",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Speaker        : Factor w/ 66 levels "ARSM91","BEAM91",..: 3 5 5 6 13 14 15 23 29 33 ...
 $ YOB            : int  1965 1955 1955 1952 1953 1958 1946 1942 1945 1949 ...
 $ Sex            : Factor w/ 2 levels "F","M": 1 1 1 1 2 2 1 2 2 1 ...
 $ Education      : Factor w/ 3 levels "Educated","Not Educated",..: 1 1 1 1 1 2 1 2 2 1 ...
 $ Job            : Factor w/ 4 levels "Blue","Service",..: 4 4 4 2 2 2 2 1 1 2 ...
 $ Phoneme.Dep.Var: Factor w/ 18 levels "d--Affricate",..: 18 12 12 12 18 12 12 12 12 12 ...</code></pre>
</div>
</div>
<p>The following code does exactly the same thing as the previous code, but instead of filtering out <code>"Vowel"</code>, it specifies keeping all the other levels. Here <code>==</code> is the standard operator meaning <em>equals and only equals</em> and <code>|</code> (called <em>pipe</em> or <em>bar</em>) is the operator meaning <em>or</em>. Again, note the very important comma following the last column condition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> td[td<span class="sc">$</span>Before <span class="sc">==</span> <span class="st">"Liquid"</span> <span class="sc">|</span> td<span class="sc">$</span>Before <span class="sc">==</span> <span class="st">"Nasal"</span> <span class="sc">|</span> td<span class="sc">$</span>Before <span class="sc">==</span> <span class="st">"Other Fricative"</span> <span class="sc">|</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    td<span class="sc">$</span>Before <span class="sc">==</span> <span class="st">"S"</span> <span class="sc">|</span> td<span class="sc">$</span>Before <span class="sc">==</span> <span class="st">"Stop"</span>, ]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Before <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Before)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As you did previously, you must run the second line of code to get rid of the empty <code>"Vowel"</code> level.</p>
</section>
<section id="re-coding-variables" class="level2">
<h2 class="anchored" data-anchor-id="re-coding-variables">Re-coding Variables</h2>
<p>While it is possible to do <em>ad-hoc</em> re-codes in <em>R</em>, you must keep in mind that these re-codes will only exist in your <em>R</em> data frame, not in your saved tab-delimited-text file. Personally, I think it’s both easier and more useful to use Microsoft <em>Excel</em> to create new columns in your tab-delimited-text file for every re-code or configuration of factors in a factor group (i.e., levels in a column) that you might need. That being said, there are definitely situations where <em>ad-hoc</em> re-codes may be preferable.</p>
<p>If you want to change anything in your data frame you can generate an editable data frame in a popup window with the following function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(td)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I don’t recommend using this method. Like <code>file.choose()</code> and <code>choose.files()</code>, it introduces non-replicability because the changes you make using <code>fix()</code> are not recorded in your script file and therefore cannot be automatically replicated. A better practice for re-coding while maintaining replicability is to specify the cells in a column that include the specific values you want to change, and then to reassign a new value to those cells:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After[td<span class="sc">$</span>After <span class="sc">==</span> <span class="st">"H"</span>] <span class="ot">&lt;-</span> <span class="st">"Consonant"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>After)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code above uses the <code>&lt;-</code> operator to say that any cells in the column <code>After</code> that contain the value <code>"H"</code> should be changed to <code>"Consonant"</code> — another value in the <code>After</code> column. Many studies of (t, d) deletion do not distinguish between pre-/h/ and other pre-consonantal contexts. The above re-code might be needed for comparing this (t, d) deletion data to other studies. Notice that there is no comma following <code>"H"</code> in the above code. This is because you are filtering a column; see how the filtering brackets <code>[ ]</code> come after the column specifier <code>$</code>. The comma is only used when filtering whole data frames because data frames can be filtered along two dimensions (e.g., rows and columns) and <em>R</em> needs to know which dimensions the filtering conditions apply to. When you filter just a column (or just a row), you don’t need the comma because the filtering only occurs along one dimension (in that column, or in that row only). You also need to run the second <code>factor()</code> function to get rid of the now empty <code>"H"</code> level.</p>
<p>If you get an error message when trying to re-code using this method and your column contains words (rather than numbers) try first re-classifying (i.e., changing the type of) your original column to a <em>character</em> column: <code>td$After.New &lt;- as.character(td$After.New)</code>, then proceeding with the above method.</p>
<p>The previous function sequence re-codes all <code>"H"</code> cells in the existing <code>After</code> column. If instead you wanted to create a new column with your re-code (so both possible coding options were available for later analyses), you could do so by creating a new column with the exact same values as <code>After</code> and then re-code that column. If you’ve been following along in <em>R</em>, your <code>After</code> column is already re-coded. To go back to the original form of the data as it exists in the tab-delimited-text file, simply reload that text file and assign it to the object <code>td</code>. Of course, this resets the deletion of the tokens following a vowel, so you must do that again too. Luckily, you’ve written all of your functions in a script file (rather than directly into the console) so this is easy to do: just highlight the code and press the execution command.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Start with a fresh import of the (t, d) data into R</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"Data/deletiondata.txt"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert each character column into a factor</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Dep.Var <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Dep.Var)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Stress <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Stress)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Category <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Category)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Morph.Type <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Morph.Type)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Before <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Before)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>After)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Speaker <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Speaker)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Sex)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Education <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Education)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Job <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Job)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Phoneme.Dep.Var <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Phoneme.Dep.Var)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset data to remove previous 'Vowel' contexts</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> td[td<span class="sc">$</span>Before <span class="sc">!=</span> <span class="st">"Vowel"</span>, ]</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Before <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Before)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-code 'H' to be 'Consonant' in a new column</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After.New <span class="ot">&lt;-</span> td<span class="sc">$</span>After</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After.New[td<span class="sc">$</span>After.New <span class="sc">==</span> <span class="st">"H"</span>] <span class="ot">&lt;-</span> <span class="st">"Consonant"</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After.New <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>After.New)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The new column you create (<code>After.New</code>) is added at the end of the data frame. You can conceptualized this as the right edge of the data in an <em>Excel</em> spreadsheet. You can see this with the <code>summary()</code> or <code>str()</code> functions. The name of the new column you create doesn’t really matter, but it cannot include any spaces.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(td)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Dep.Var           Stress         Category        Morph.Type 
 Deletion:386   Stressed  :1047   Function:  57   Mono     :762  
 Realized:803   Unstressed: 142   Lexical :1132   Past     :311  
                                                  Semi-Weak:116  
                                                                 
                                                                 
                                                                 
                                                                 
             Before          After        Speaker         YOB       Sex    
 Liquid         :269   Consonant:215   INGM84 : 57   Min.   :1915   F:659  
 Nasal          :209   H        :157   MARM92 : 53   1st Qu.:1952   M:530  
 Other Fricative:130   Pause    :558   GARF87 : 52   Median :1984          
 S              :332   Vowel    :259   HUNF22 : 32   Mean   :1969          
 Stop           :249                   DONF15 : 28   3rd Qu.:1991          
                                       GARF37 : 28   Max.   :1999          
                                       (Other):939                         
        Education        Job          Phoneme.Dep.Var     After.New  
 Educated    :496   Blue   :130   t--T        :352    Consonant:372  
 Not Educated:317   Service:468   t--Deletion :296    Pause    :558  
 Student     :376   Student:376   t--Fricative:131    Vowel    :259  
                    White  :215   d--Deletion : 90                   
                                  d--T        : 73                   
                                  d--D        : 46                   
                                  (Other)     :201                   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(td)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   1189 obs. of  13 variables:
 $ Dep.Var        : Factor w/ 2 levels "Deletion","Realized": 2 1 1 1 2 1 1 1 1 1 ...
 $ Stress         : Factor w/ 2 levels "Stressed","Unstressed": 1 1 1 1 1 1 1 1 1 1 ...
 $ Category       : Factor w/ 2 levels "Function","Lexical": 2 2 2 2 2 2 2 2 2 2 ...
 $ Morph.Type     : Factor w/ 3 levels "Mono","Past",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Before         : Factor w/ 5 levels "Liquid","Nasal",..: 5 5 5 5 5 5 5 5 5 5 ...
 $ After          : Factor w/ 4 levels "Consonant","H",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ Speaker        : Factor w/ 66 levels "ARSM91","BEAM91",..: 3 5 5 6 13 14 15 23 29 33 ...
 $ YOB            : int  1965 1955 1955 1952 1953 1958 1946 1942 1945 1949 ...
 $ Sex            : Factor w/ 2 levels "F","M": 1 1 1 1 2 2 1 2 2 1 ...
 $ Education      : Factor w/ 3 levels "Educated","Not Educated",..: 1 1 1 1 1 2 1 2 2 1 ...
 $ Job            : Factor w/ 4 levels "Blue","Service",..: 4 4 4 2 2 2 2 1 1 2 ...
 $ Phoneme.Dep.Var: Factor w/ 18 levels "d--Affricate",..: 18 12 12 12 18 12 12 12 12 12 ...
 $ After.New      : Factor w/ 3 levels "Consonant","Pause",..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
</div>
</section>
<section id="centering-continuous-variables" class="level2">
<h2 class="anchored" data-anchor-id="centering-continuous-variables">Centering Continuous Variables</h2>
<p>Some variables, like year of birth, are not discrete but are continuous. Some statisticians advocate centering continuous variables before including them in certain tests or models. In the Regression Analysis section you’ll learn when/if you need to center your variables.</p>
<p><em>Centering</em> entails expressing each value of a continuous variable as that value’s difference from the mean of all values of the variable. For example, the <em>td</em> data frame has a column for speaker year of birth: <code>YOB</code>. The mean of all the years of birth (after the pre-vowel tokens are removed) is <code>1969</code>. Centering this variable simply means expressing years of birth like 1952 and 1989, as 17 (<span class="math inline">\(=1969-1952\)</span>) and -20 (<span class="math inline">\(=1969-1989\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Center YOB</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(td<span class="sc">$</span>Center.Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">scale</span>(td<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>scale()</code> function centers the values in the column <code>YOB</code> and assigns those Centered values to a new column called <code>Center.Age</code>. The option <code>scale = FALSE</code> indicates that the centered values remain in the original units (in this case years). If you change this option to <code>scale = TRUE</code>, the overall mean is subtracted from each value and then each values is divided by the overall standard deviation. This is needed if you are including multiple continuous variables in a model that are expressed using different units and vary along differing scales. When the data is centred and scalled the new values are called <strong>z-scores</strong> or <strong>standardized scores</strong> and you can think of each value as describing the raw value in terms of its distance from the mean when measured in standard deviation units.</p>
<p>For example, imagine a study of variable word-initial voice onset time in which you want to look at the effect of following vowel backness and year of birth of the speaker. Each of these variables are continuous, but voice onset time is <span class="math inline">\(\pm20\)</span> ms around its mean, year of birth is <span class="math inline">\(\pm45\)</span> years around its mean, and F2 is <span class="math inline">\(\pm300\)</span> Hz around its mean. By expressing these values as <strong>z-scores</strong>, you can account for both the differing units and differing scales of each. Even if you have one variable, here just <code>YOB</code>, it is okay to scale the values, but do <em>NOT</em> do this here. Leave <code>YOB</code> in years. This will make the interpretation of later statistical estimates a little easier.</p>
<p>After running your <code>scale()</code> function you must also run a function to tell <em>R</em> how to treat your new column <code>Center.Age.</code> <em>R</em> knows the column is filled with numbers, but <em>R</em> doesn’t know if those numbers are continuous, if they are ordered in a specific way, or if they are factors with names expressed as digits. You use the function <code>as.numeric()</code> to tell <em>R</em> that the values are continuous numbers. This is very similar to what you did above with the function <code>factor()</code>, which tells <em>R</em> to consider whatever is inside the function to be a factor. Also, with <code>After.New</code> above, where the data structure is inherited from <code>After</code>, you used <code>factor()</code> to remove the remaining <code>H</code> level name. You did this by telling <code>R</code> to consider whatever was inside the <code>factor()</code> function as a factor, and, as part of that, <code>R</code> reads all the levels inside that column and chooses them as the factors. Here you are doing the same thing. You’re telling <code>R</code> to look at the values inside <code>Center.Age</code> and consider them as being continuous numbers. You can do this as a secondary step after you create the column <code>Center.Age</code>, as shown in the first two rows. Or you can embed the <code>scale()</code> function inside the <code>as.numeric()</code> function, <code>as.numeric(scale())</code>, as shown in the last line.</p>
</section>
<section id="dividing-a-continuous-variable" class="level2">
<h2 class="anchored" data-anchor-id="dividing-a-continuous-variable">Dividing a Continuous Variable</h2>
<p>There are other ways you can represent age. Instead of a continuous variable, you can categorize speakers as belonging to a “young”, “middle aged”, or “old” age group. You might also group speakers based on decade of birth or as being born before or after some event — whatever makes sense for your study or community.</p>
<p>How to divide speakers by age is something that should be informed by sociolinguistic theory, demographics, and your own understanding of your data. The birth years 1980 and 1945, used here, represent generational divides in Cape Breton that can be independently justified (Gardner 2013). Grouping speakers like this is very common, and not particularly difficult to do in <em>R</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 3-way Age Group</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group[td<span class="sc">$</span>YOB <span class="sc">&gt;</span> <span class="dv">1979</span>] <span class="ot">&lt;-</span> <span class="st">"Young"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group[td<span class="sc">$</span>YOB <span class="sc">&gt;</span> <span class="dv">1944</span> <span class="sc">&amp;</span> td<span class="sc">$</span>YOB <span class="sc">&lt;</span> <span class="dv">1980</span>] <span class="ot">&lt;-</span> <span class="st">"Middle"</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group[td<span class="sc">$</span>YOB <span class="sc">&lt;</span> <span class="dv">1945</span>] <span class="ot">&lt;-</span> <span class="st">"Old"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First you will need a new column for your age group variable. Here, call it <code>Age.Group</code>.You use the assignment operator <code>&lt;-</code> to fill all the cells in the new column <code>Age.Group</code> based on the values that are in the already existing <code>YOB</code> column. The first line says that for any rows in which <code>YOB</code> is greater than 1979, fill the empty cell in those same rows in the column <code>Age.Group</code> with the value <code>Young</code>. The second line does the same thing but includes two conditions: that <code>YOB</code> is greater than 1944 and that it is also less than 1980. For these rows, the value <code>Middle</code> is inserted in the <code>Age.Group</code> column. Even though the two conditions (<code>YOB &gt; 1944</code>, <code>YOB &lt; 1980</code>) refer to the same column, you need to fully specify each condition with both a column reference and a condition with an operator. So, for example, writing <code>td$Age.Group[td$YOB &gt;1944 &amp; &lt;1970]</code> will not work. The third line instructs <code>R</code> to put <code>Old</code> in the <code>Age.Group</code> column for any row where <code>YOB</code> is less than 1945. Because this new column includes words, <em>R</em> will automatically categorize the column as <code>character</code> data. To rectify this, see the next section.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(td<span class="sc">$</span>Age.Group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
</section>
<section id="changing-the-order-of-levels" class="level2">
<h2 class="anchored" data-anchor-id="changing-the-order-of-levels">Changing the Order of Levels</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Age.Group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Young"</span>, <span class="st">"Middle"</span>, <span class="st">"Old"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code above does two things. First, it tells <code>R</code> that you want the new <code>Age.Group</code> column to be a column of factors, and second, it also tells <code>R</code> how you want those factors to be ordered. When <code>R</code> extracts the name of the factors of a column (based on the levels that are in that column) it orders the factors by name alphabetically. For example, the <code>Sex</code> column contains two levels: <code>M</code> and <code>F</code>. The first 500 tokens in your data frame might comes from males but <code>R</code> will still list the names of the factors in the column (which are based on those two levels) as <code>F</code> and then <code>M</code>, because <code>F</code> is closer to the start of the alphabet than <code>M</code>. If you run <code>summary(td)</code> you can see that the factor names listed in all of the factor columns are in alphabetical order. Sometimes this alphabetical ordering doesn’t matter. Other times it is makes a big difference.</p>
<p>Any time factors are used in a statistical test or appear in a graph, the order of factor names is very important. For example, which factor is selected as the application value and which factor(s) are the non-application value(s) of a dependent variable is determined by factor name order. As for graphs, all kinds of layout parameters are set by the factor order of a variable. For example, if you left the <code>Age.Group</code> factor as it is, it would always list the <code>Age.Group</code> levels as <code>Middle</code>, <code>Old</code>, <code>Young</code>. On a graph like a bar graph it would arrange the bars for each age group alphabetically from left to right. This is not desirable. You will always want <code>Age.Group</code> ordered as either <code>Young</code>, <code>Middle</code>, <code>Old</code> or <code>Old</code>, <code>Middle</code>, <code>Young</code>. This is what the second part of the <code>factor()</code> command does. First it tells <code>R</code> to consider the values in the <code>Age.Group</code> to be factors, then it specifies that you want the factors (which get their names from the levels) to be ordered in certain way. You use <code>levels =</code> and the concatenating <code>c()</code> function to specify that you want the factors to get their names from the levels in the following order <code>"Young", "Middle", "Old"</code>, and thus also be ordered in that way.</p>
<p>This might seem confusing. Think about coins. Imagine you have a bag of change. Each coin in that bag is like a token in your column in the data frame. The levels of the column are just the different kinds of coins there are. You can root around in the bag and figure out what coins are in it without having to put the coins in any particular order. This is the “levels” of the coins. If you ask <em>R</em> what coins are in your bag, it will tell you there are “dimes”, “nickels”, “pennies”, and “quarters”. These levels are in alphabetical order, but only for a lack of a better way to tell you them. Telling you the levels doesn’t imply any sort of ordering of the coins. Making the coin bag into a factor column is like putting the coins into a change tray, like the change trays in cash registers. Coins inside of a change tray go from being unstructured to being organized based on a structure. This makes them factors. In a cash tray each coin is grouped with other coins just like it. Each slot in the drawer also has a name. <em>R</em> just automatically gives the slots the same name as the coins (e.g.&nbsp;levels) that are in it. The order of the slots from right to left is also by default alphabetical based on the name of each slot. So, coin (= level), slot name (= factor name) and slot order (= factor order) are three independent parameters. The function <code>td$Age.Group &lt;-factor(td$Age.Group, levels = c("Young", "Middle", "Old"))</code> is basically saying take all the coins out of the cash drawer, then put them back in the drawer in in a specific order, with <code>Young</code> going in the first slot. The slots then take the names of the coins that go into them.</p>
</section>
<section id="reversing-the-order-of-levels" class="level2">
<h2 class="anchored" data-anchor-id="reversing-the-order-of-levels">Reversing the Order of Levels</h2>
<p>To reverse the order of levels you can embed the <code>rev()</code> function inside your <code>factor()</code> function</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(td<span class="sc">$</span>Age.Group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Young"  "Middle" "Old"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Age.Group, <span class="at">levels =</span> <span class="fu">rev</span>(<span class="fu">levels</span>(td<span class="sc">$</span>Age.Group)))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(td<span class="sc">$</span>Age.Group)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Old"    "Middle" "Young" </code></pre>
</div>
</div>
</section>
<section id="combining-columns" class="level2">
<h2 class="anchored" data-anchor-id="combining-columns">Combining Columns</h2>
<p>It is often useful to combine two columns, or factor groups, into one. For example, it might be useful to have a way of grouping tokens not by <code>Age.Group</code> or <code>Sex</code>, but instead by the combination of <code>Age.Group</code> and <code>Sex</code>. While it is not difficult to test the potential interaction of these two factor groups in statistical tests in <em>R</em>, for specifically generating summary statistics it is much easier to examine the combination of <code>Age.Group</code> and <code>Sex</code> (or any two columns) by first creating a new column combining them.</p>
<p>Combining columns is done using the function <code>paste()</code>, which you embed inside of the <code>factor()</code> function so that the resulting column will be a column of factors. Inside <code>paste()</code> you list the two columns you want to combine (you could list more) and then tell <em>R</em> how to separate the values from each of the columns. Here the code tells <em>R</em> to put an underscore *_* between the values for <code>Age.Group</code> and <code>Sex</code>, resulting in new values like <code>Old_M</code> and <code>Middle_F</code>. The new column will be called <code>Age_Sex</code>. If we want to order these values in any particular way, we can do that with the <code>level=</code> option in <code>factor()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine Columns</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age_Sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">paste</span>(td<span class="sc">$</span>Age.Group, td<span class="sc">$</span>Sex, <span class="at">sep =</span> <span class="st">"_"</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Young_F"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Middle_F"</span>, <span class="st">"Old_F"</span>, <span class="st">"Young_M"</span>, <span class="st">"Middle_M"</span>, <span class="st">"Old_M"</span>))</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(td<span class="sc">$</span>Age_Sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Young_F"  "Middle_F" "Old_F"    "Young_M"  "Middle_M" "Old_M"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reorder factor levels</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age_Sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Age_Sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Young_F"</span>, <span class="st">"Young_M"</span>, <span class="st">"Middle_F"</span>, <span class="st">"Middle_M"</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Old_F"</span>, <span class="st">"Old_M"</span>))</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(td<span class="sc">$</span>Age_Sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Young_F"  "Young_M"  "Middle_F" "Middle_M" "Old_F"    "Old_M"   </code></pre>
</div>
</div>
</section>
<section id="splitting-columns" class="level2">
<h2 class="anchored" data-anchor-id="splitting-columns">Splitting Columns</h2>
<p>You may have noticed that the data frame <code>td</code> has one column that is actually two variables. The column <code>Phoneme.Dep.Var</code> combines both the underlying phoneme of the token, either <code>t</code> (t) or <code>d</code> (d), with a more descriptive coding of the dependent variable. In the dialect where this data comes from (t) and (d) can be realized in up to nine different ways, only one of which is <code>Deletion</code>. In your analysis you might want to consider if deletion is more likely if the underlying phoneme is (t) or (d). In order to do this you must break <code>Phoneme</code> away from the more elaborate <code>Dep.Var</code> coding. To do this, you will use a function that is beyond <em>R</em>’s base functionality and part of the <code>dplyr</code> package. First you load the <code>dplyr</code> package from your library using <code>library()</code>, then you use the function <code>mutate()</code> to tell <em>R</em> how to break up the column. The <code>dplyr</code> package is very powerful. We will look at additional uses as this guide progresses.</p>
<p>To be honest, splitting columns is an operation that is much simpler and usually faster to do using <em>Excel</em>, or another spreadsheet program. I never use <em>R</em> to split columns because, while the <code>mutate()</code> function itself is not tricky, figuring out the exact sequence of <code>regular expressions</code> I need to split my columns is challenging. If you absolutely must split columns in <em>R</em>, below are instructions. Keep in mind that this method will only work for columns with predictable structures, like <code>Phoneme.Dep.Var</code>.</p>
<p>The values in the column <code>Phoneme.Dep.Var</code> are predictable, in other words, they all follow the same pattern. You can exploit this regularity to tell <em>R</em> exactly where to break the <code>Phoneme.Dep.Var</code> values into two. If you execute the command <code>levels(td$Phoneme.Dep.Var)</code> you can very easily see the pattern.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(td<span class="sc">$</span>Phoneme.Dep.Var)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "d--Affricate"       "d--D"               "d--Deletion"       
 [4] "d--Ejective"        "d--Flap"            "d--Fricative"      
 [7] "d--Glottal Stop"    "d--Other Weakening" "d--T"              
[10] "t--Affricate"       "t--D"               "t--Deletion"       
[13] "t--Ejective"        "t--Flap"            "t--Fricative"      
[16] "t--Glottal Stop"    "t--Other Weakening" "t--T"              </code></pre>
</div>
</div>
<p>The first part of every value is either <code>t</code> or <code>d</code>, then there are two hyphens, then a word describing the realization of (t) or (d). If you split <code>Phoneme.Dep.Var</code> at the hyphens you’ll be left with two values: one that is either <code>t</code> or <code>d</code>, and another that describes the realization of (t) or (d). So, for the new <code>Phoneme</code> column you want the one character before the hyphens from <code>Phoneme.Dep.Var</code>, and for the new <code>Dep.Var.Full</code> column, you want all the characters — however many there are – that come after the two hyphens.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Break Phoneme.Dep.Var into two columns</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">mutate</span>(td, <span class="at">Phoneme =</span> <span class="fu">sub</span>(<span class="st">"^(.)(--.*)$"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, Phoneme.Dep.Var), <span class="at">Dep.Var.Full =</span> <span class="fu">sub</span>(<span class="st">"^(.--)(.*)$"</span>,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>, Phoneme.Dep.Var), <span class="at">Phoneme.Dep.Var =</span> <span class="cn">NULL</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Dep.Var.Full <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Dep.Var.Full)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Phoneme <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Phoneme)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The procedure here is somewhat complicated. I always have to double-check how these complicated procedures work. Either by looking up the functions or checking my old script files. You can look up how a function like <code>mutate()</code> works by placing a question mark before the function in the console window, e.g.&nbsp;.</p>
</div>
</div>
<p>Above, inside the <code>mutate()</code> function, first you specify the data frame object you want to mutate (here <code>td</code>), and then how to mutate it. The mutations include creating a new column called <code>Phoneme</code> and then telling <em>R</em> what do put in it, creating a new column called <code>Dep.Var.Full</code> and then telling <em>R</em> what to put in it, and then taking the <code>Phoneme.Dep.Var</code> column and making it equal <code>NULL</code> — in other words, deleting it. For the <code>Phoneme</code> and <code>Dep.Var.Full</code> columns you specify what values to insert in each cell using the <code>sub()</code> function, which returns a “sub” or divided section of a value within some cell. The <code>sub()</code> function’s first argument is a pattern of <em>regular expressions</em> to search for, the second is a character string to replace the pattern with, and the third is the column in which to search for the pattern.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I don’t have <em>R</em>’s regular expressions memorized; I always have to look them up <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html">here</a></p>
</div>
</div>
<p>For the functions meant to create values for <code>Phoneme</code> and for <code>Dep.Var.Full</code> you tell <em>R</em> to search <code>Phoneme.Dep.Var</code> for the pattern <code>"^.--.*$"</code>. This series of regular expressions describes the following pattern: a text string beginning with one single character, followed by two hyphens, and then any number of characters. The quotation marks <code>" "</code> indicate a text string. The <code>^</code> and <code>$</code> indicate the beginning and end of a text string, respectively.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The period <code>.</code> indicates a single character and the asterisk<code>*</code> indicates zero or more of whatever comes before that asterisk. So <code>.*</code> means any one or more characters. The two hyphens <code>--</code> are just two hyphens. The parentheses in the regular expressions relate to the second substitution element. In the <code>sub()</code> function responsible for creating values for the new <code>Phoneme</code> column, you break the values that match the regular expression pattern into two parts: the one character before the two hyphens <code>(.)</code> and then everything after it <code>(--.*)</code>; then you tell <em>R</em> to substitute (or rather place) the first of those two elements <code>\\1</code> as text <code>" "</code> in the new column. In the <code>sub()</code> function responsible for creating the values for the new <code>Dep.Var.Full</code> column, you break the values that match the regular expression pattern into two parts: the two hyphens and the one character that comes before them <code>(.--)</code> and then the one or more characters that come after the hyphens <code>(.*)</code>; then tell <em>R</em> to to substitute (or rather place) the second of those elements <code>\\2</code> as text <code>" "</code> in the new column.</p>
<p>The last two lines simply make these two new columns into factor columns.</p>
</section>
<section id="partitioning-data-frames" class="level2">
<h2 class="anchored" data-anchor-id="partitioning-data-frames">Partitioning Data Frames</h2>
<p>Many times in my own work I have only wanted to work in <em>R</em> with a subset of my full dataset. For example, I frequently want to run separate regression analyses on data from old speakers, middle age speakers, and young speakers. Other times I’ve had large datasets that combine multiple corpora and have wanted to run tests on data from just one corpus. Being able to partition (subset) my data frame has therefore been very useful.</p>
<p>There are two main ways to partition your data. One method involves using the filtering functionality of <em>R</em> detailed above. For example, the first line code below represents the <code>td</code> data from <code>young</code> speakers only. The second line of codes assigns that subset of <code>td</code> to a completely new data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset of td where Age.Group only equals Young</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>td[td<span class="sc">$</span>Age.Group <span class="sc">==</span> <span class="st">"Young"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create td.young which equals subset of td where Age. Group only equals Young</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>td.young <span class="ot">&lt;-</span> td[td<span class="sc">$</span>Age.Group <span class="sc">==</span> <span class="st">"Young"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In your tests you can use the filtered version of <code>td</code> or you can use the new data frame <code>td.young</code>. I recommend using the new data frame if you are using any centered continuous variables. This is because centered continuous variables are centered around the mean of the values in the column that is centered. If you partition the data, that mean will be different because the range of values within the the centered column are now different. So, if you partition your data, especially by age, you should re-center your continuous variables.</p>
<p>The second way to partition your data is using the <code>subset()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create three partitions based on Age.Group</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>td.young <span class="ot">&lt;-</span> <span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Young"</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>td.middle <span class="ot">&lt;-</span> <span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Middle"</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>td.old <span class="ot">&lt;-</span> <span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Old"</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-Center Center.Age</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>td.young<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td.young<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>td.middle<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td.middle<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>td.old<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td.old<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The usefulness of <code>subset()</code> is when you want to partition your data frame based on several factors. For example, compare the filtering versus <code>subset()</code> methods when partitioning <code>td</code> for just middle-age, blue-collar men. Using saves you from having to type <code>td$</code> multiple times, and you don’t need the final <code>,</code>. Below <code>&amp;</code> is the standard operator meaning “and”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset of td where Age.Group is Middle, Sex is M, and Job is Blue</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>td.midmenblue <span class="ot">&lt;-</span> td[td<span class="sc">$</span>Age.Group <span class="sc">==</span> <span class="st">"Middle"</span> <span class="sc">&amp;</span> td<span class="sc">$</span>Sex <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> td<span class="sc">$</span>Job <span class="sc">==</span> <span class="st">"Blue"</span>,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset of td where Age.Group is Middle, Sex is M, and Job is Blue</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>td.midmenblue <span class="ot">&lt;-</span> <span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Middle"</span> <span class="sc">&amp;</span> Sex <span class="sc">==</span> <span class="st">"M"</span> <span class="sc">&amp;</span> Job <span class="sc">==</span> <span class="st">"Blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When you subset your data frame, using either method, and assign it to a new data frame, your new data frame inherits the structure of your old data frame. This means that there will be lots of columns that list empty levels. If you execute <code>summary(td.midmenblue)}</code> you’ll see see that <code>Job</code> still lists <code>Service</code>, <code>Student</code>, and <code>White</code> as factors with 0 tokens each. To remove these empty levels you could use the <code>factor()</code> function on each column with empty levels (as you did above), or you can use the function <code>droplevels()</code> to tell <em>R</em> to drop any empty levels from each column in the data frame. You need to make sure to also assign the dropped levels data frame to the original data frame, as shown below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(td.midmenblue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Dep.Var          Stress       Category      Morph.Type
 Deletion:30   Stressed  :49   Function: 3   Mono     :38  
 Realized:27   Unstressed: 8   Lexical :54   Past     :15  
                                             Semi-Weak: 4  
                                                           
                                                           
                                                           
                                                           
             Before         After       Speaker        YOB       Sex   
 Liquid         :13   Consonant:16   GREM45 :18   Min.   :1945   F: 0  
 Nasal          : 3   H        : 9   HOLM52 :16   1st Qu.:1945   M:57  
 Other Fricative: 6   Pause    :20   SMIM61 :16   Median :1952         
 S              :18   Vowel    :12   CLAM73 : 4   Mean   :1954         
 Stop           :17                  HANM57 : 3   3rd Qu.:1961         
                                     ARSM91 : 0   Max.   :1973         
                                     (Other): 0                        
        Education       Job         After.New    Center.Age       Age.Group 
 Educated    : 0   Blue   :57   Consonant:25   Min.   :-24.447   Old   : 0  
 Not Educated:57   Service: 0   Pause    :20   1st Qu.:-24.447   Middle:57  
 Student     : 0   Student: 0   Vowel    :12   Median :-17.447   Young : 0  
                   White  : 0                  Mean   :-15.394              
                                               3rd Qu.: -8.447              
                                               Max.   :  3.553              
                                                                            
     Age_Sex   Phoneme    Dep.Var.Full
 Young_F : 0   d:11    Deletion :30   
 Young_M : 0   t:46    T        :19   
 Middle_F: 0           Fricative: 6   
 Middle_M:57           D        : 1   
 Old_F   : 0           Flap     : 1   
 Old_M   : 0           Affricate: 0   
                       (Other)  : 0   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop empty levels across dataset</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>td.midmenblue <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(td.midmenblue)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(td.midmenblue)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     Dep.Var          Stress       Category      Morph.Type
 Deletion:30   Stressed  :49   Function: 3   Mono     :38  
 Realized:27   Unstressed: 8   Lexical :54   Past     :15  
                                             Semi-Weak: 4  
                                                           
                                                           
                                                           
             Before         After      Speaker        YOB       Sex   
 Liquid         :13   Consonant:16   CLAM73: 4   Min.   :1945   M:57  
 Nasal          : 3   H        : 9   GREM45:18   1st Qu.:1945         
 Other Fricative: 6   Pause    :20   HANM57: 3   Median :1952         
 S              :18   Vowel    :12   HOLM52:16   Mean   :1954         
 Stop           :17                  SMIM61:16   3rd Qu.:1961         
                                                 Max.   :1973         
        Education    Job         After.New    Center.Age       Age.Group 
 Not Educated:57   Blue:57   Consonant:25   Min.   :-24.447   Middle:57  
                             Pause    :20   1st Qu.:-24.447              
                             Vowel    :12   Median :-17.447              
                                            Mean   :-15.394              
                                            3rd Qu.: -8.447              
                                            Max.   :  3.553              
     Age_Sex   Phoneme    Dep.Var.Full
 Middle_M:57   d:11    D        : 1   
               t:46    Deletion :30   
                       Flap     : 1   
                       Fricative: 6   
                       T        :19   
                                      </code></pre>
</div>
</div>
</section>
<section id="interim-summary" class="level2">
<h2 class="anchored" data-anchor-id="interim-summary">Interim Summary</h2>
<p>Below is the full code for loading the data file and then re-coding it. As you progress through the next sections, if for any reason you have a problem, it may be useful to recreate the <em>R</em> object <code>td</code> from scratch. Going forward in these instructions, the <code>td</code> object will be the object as it exists at the end of this code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"https://www.dropbox.com/s/jxlfuogea3lx2pu/deletiondata.txt?dl=1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Or…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"Data/deletiondata.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset data to remove previous 'Vowel' contexts</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> td[td<span class="sc">$</span>Before <span class="sc">!=</span> <span class="st">"Vowel"</span>, ]</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Before <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Before)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-code 'H' to be 'Consonant' in a new column</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After.New <span class="ot">&lt;-</span> td<span class="sc">$</span>After</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After.New[td<span class="sc">$</span>After.New <span class="sc">==</span> <span class="st">"H"</span>] <span class="ot">&lt;-</span> <span class="st">"Consonant"</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>After.New <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>After.New)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Center Year of Birth</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">scale</span>(td<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>))</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Age.Group</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group[td<span class="sc">$</span>YOB <span class="sc">&gt;</span> <span class="dv">1979</span>] <span class="ot">&lt;-</span> <span class="st">"Young"</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group[td<span class="sc">$</span>YOB <span class="sc">&gt;</span> <span class="dv">1944</span> <span class="sc">&amp;</span> td<span class="sc">$</span>YOB <span class="sc">&lt;</span> <span class="dv">1980</span>] <span class="ot">&lt;-</span> <span class="st">"Middle"</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group[td<span class="sc">$</span>YOB <span class="sc">&lt;</span> <span class="dv">1945</span>] <span class="ot">&lt;-</span> <span class="st">"Old"</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age.Group <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Age.Group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Young"</span>, <span class="st">"Middle"</span>, <span class="st">"Old"</span>))</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine Age and Sex</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Age_Sex <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">paste</span>(td<span class="sc">$</span>Age.Group, td<span class="sc">$</span>Sex, <span class="at">sep =</span> <span class="st">"_"</span>))</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Break Phoneme.Dep.Var into two columns</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>td <span class="ot">&lt;-</span> <span class="fu">mutate</span>(td, <span class="at">Phoneme =</span> <span class="fu">sub</span>(<span class="st">"^(.)(--.*)$"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, Phoneme.Dep.Var), <span class="at">Dep.Var.Full =</span> <span class="fu">sub</span>(<span class="st">"^(.--)(.*)$"</span>,</span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"</span><span class="sc">\\</span><span class="st">2"</span>, Phoneme.Dep.Var), <span class="at">Phoneme.Dep.Var =</span> <span class="cn">NULL</span>)</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Phoneme <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Phoneme)</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>td<span class="sc">$</span>Dep.Var.Full <span class="ot">&lt;-</span> <span class="fu">factor</span>(td<span class="sc">$</span>Dep.Var.Full)</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create three partitions based on Age.Group</span></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>td.young <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(<span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Young"</span>))</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>td.middle <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(<span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Middle"</span>))</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>td.old <span class="ot">&lt;-</span> <span class="fu">droplevels</span>(<span class="fu">subset</span>(td, Age.Group <span class="sc">==</span> <span class="st">"Old"</span>))</span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-center Center.Age</span></span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>td.young<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td.young<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>td.middle<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td.middle<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>td.old<span class="sc">$</span>Center.Age <span class="ot">&lt;-</span> <span class="fu">scale</span>(td.old<span class="sc">$</span>YOB, <span class="at">scale =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>You use <code>$</code> in other places for specifying columns within data frames, but here it’s inside quotation marks and serving a different function.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><div>CC-BY-SA 4.0</div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{huntgardner2022,
  author = {Matt Hunt Gardner},
  editor = {},
  title = {Modifying {Data}},
  date = {2022-09-27},
  url = {https://github.com/LingMethodsHub/LingMethodsHub.github.io/content/R/lvc_r/040_lvcr.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-huntgardner2022" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Matt Hunt Gardner. 2022. <span>“Modifying Data.”</span> September 27,
2022. <a href="https://github.com/LingMethodsHub/LingMethodsHub.github.io/content/R/lvc_r/040_lvcr.html">https://github.com/LingMethodsHub/LingMethodsHub.github.io/content/R/lvc_r/040_lvcr.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../../content/R/lvc_r/030_lvcr.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Getting to Know Your Data</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../content/R/lvc_r/050_lvcr.html" class="pagination-link">
        <span class="nav-page-text">Doing it all again, but <code>tidy</code></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
  </div>
</footer>



</body></html>